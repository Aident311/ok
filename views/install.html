<!-- This is a static file -->
<!-- served from your routes in server.js -->

<!-- You might want to try something fancier: -->
<!-- html/nunjucks docs: https://mozilla.github.io/nunjucks/ -->
<!-- pug: https://pugjs.org/ -->
<!-- haml: http://haml.info/ -->
<!-- hbs(handlebars): http://handlebarsjs.com/ -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Welcome to Glitch!</title>
    <meta name="description" content="A cool thing made with Glitch" />
    <link
      id="favicon"
      rel="icon"
      href="https://glitch.com/edit/favicon-app.ico"
      type="image/x-icon"
    />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- import the webpage's stylesheet -->
    <link href="https://unpkg.com/nes.css@2.2.0/css/nes.min.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link rel="stylesheet" href="/style.css" />

    <!-- import the webpage's client-side javascript file -->
    <script src="/install.js" defer></script>
  </head>
  <body>
    <header><h1>Starter Botkit Discord</h1></header>

    <main>
      <h2>Remix this project</h2>
      <p>
        "Remixing" on Glitch makes a new copy of this project. It will have a
        randomly generated name which you can change.
      </p>

      <p id="remix-me">
        <a href="https://glitch.com/edit/#!/remix/starter-botkit-discord"
          ><img
            src="https://cdn.glitch.com/2703baf2-b643-4da7-ab91-7ee2a2d00b5b%2Fremix-button.svg"
            alt="Remix on Glitch"
        /></a>
      </p>

      <div class="input">
        <label>This Project's URL:</label>
        <div class="addon">
          <input
            readonly
            class="copyurl"
            id="project_url"
            type="text"
            value=""
          />
          <button onclick="clipboard('project_url')">Copy</button>
        </div>
      </div>
      <h2>Create your Discord application</h2>

      <div>
        <fieldset>
          <legend>
            Steps for creating a Discord Application: Complete these at the
            <a
              href="https://discordapp.com/developers/applications"
              target="new"
              >Discord Developer Portal</a
            >
          </legend>
          <div>
            <input type="checkbox" id="check_1" />
            <label for="check_1"
              >Login to the
              <a
                href="https://discordapp.com/developers/applications"
                target="new"
                >My Applications section of the Discord Developer Portal</a
              ></label
            >
          </div>

          <div>
            <input type="checkbox" id="check_2" />
            <label for="check_2"
              >Click "New Application" to create an application</label
            >
          </div>
          <div>
            <input type="checkbox" id="check_3" />
            <label for="check_3"
              >Click on "Bot" on the sidebar to go to the "Bot" settings
              page</label
            >
          </div>

          <div>
            <input type="checkbox" id="check_4" />
            <label for="check_4"
              >Click the "Add bot" button on the "Bot" settings page</label
            >
          </div>

          <div>
            <input type="checkbox" id="check_5" />
            <label for="check_5"
              >You should see a "token" section. Click "copy" to copy the
              token</label
            >
          </div>
        </fieldset>
      </div>

      <h2>Discord tokens</h2>
      <p>
        <label>Token</label>
        <input
          id="discordToken"
          class="copyurl"
          onchange="generateEnv()"
          placeholder="Paste your token here "
        />
      </p>
      <p>
        A token is a password, which means you want to keep it secure. If
        someone else gets it, they use it to pretend to be your Discord Bot and
        do bad things! You don't want it in <code>server.js </code> because by
        default in Glitch anyone can see that file. And if you copy the project,
        it will copy the file with the secure token.
      </p>
      
      <p>
        The <em>only</em> place you should put it is a file called
        <code>.env</code>
      </p>

      <p>
        You should put your token after <code>DISCORD_TOKEN=</code>. So if your
        token is <code>ewriewirew438234adadfs</code> it will look like
        <code>DISCORD_TOKEN=ewriewirew438234adadfs</code>. Make sure you don't
        accidentally add any spaces or other characters around it because it
        won't work correctly.
      </p>

      <h2>Set up Uptime Robot (OPTIONAL)</h2>
      <p>
        Wait what's Uptime Robot??? It's a handy service that will help keep
        your bot running. Glitch apps automatically "sleep" after 5 minutes.
        <a href="https://glitch.com/help/restrictions/"
          >You can read more about that and other restrictions here.</a
        >
        While your bot's asleep it isn't listening to Discord and will drop out
        of any servers it's in. It won't be able to respond to anything. Only an
        external service will be able to keep your bot up 24/7; solutions that
        just use code running in Glitch won't start your bot up after the
        12-hour shut down. Luckily Uptime Robot does exactly that!
        <em
          >Only an external request to your bot's "site" here on Glitch will
          keep it running all day and all night.</em
        >
        Luckily Uptime Robot does exactly that!
      </p>
      <div>
        <fieldset>
          <legend>
            Setting up Uptime Robot. Complete these at the
            <a href="https://uptimerobot.com" target="new"
              >Uptime Robot website</a
            >
          </legend>
          <div>
            <input type="checkbox" id="uptime_check_1" />
            <label for="uptime_check_1">Create an Uptime Robot Account</label>
          </div>

          <div>
            <input type="checkbox" id="uptime_check_2" />
            <label for="uptime_check_2"
              >Go to
              <a href="https://uptimerobot.com/dashboard#mySettings"
                >your settings</a
              >
              under "Main API Key" click the button to generate an API
              key</label
            >
          </div>
          <div>
            <input type="checkbox" id="uptime_check_3" />
            <label for="uptime_check_3">Copy your new API key</label>
          </div>
        </fieldset>
      </div>
      <p>
        <label>Uptime Robot API Key</label>
        <input
          id="uptimeKey"
          class="copyurl"
          onchange="generateEnv()"
          placeholder="Paste your Uptime Robot API key here "
        />
      </p>
      <h2>Set up your .env file</h2>

      <div class="input">
        <label
          >This is what should be in your <code>.env</code> file. You can copy this text and replace the current contents with this.</label
        >
        <div class="addon">
          <textarea rows="20" class="copyurl" id="env_file"></textarea>
          <button class="textarea" onclick="clipboard('env_file')">Copy</button>
        </div>
      </div>

      <p><a href="" id="envFileLink" target="editit">Here is a link to your <code>.env</code> file</a></p>
      <h2>Test your .env file</h2>
      <p>Click the button below to test your <code>.env</code> file</p>
      <button id="checkInstallButton">Check Connection</button>
      <div id="connectedSection">
        <p>
          Looks like your token is working! Click the refresh button to refresh
          the page and see further steps for building your bot:
        </p>
        <button id="refreshPageButton">Refresh!</button>
      </div>

      <div id="errorSection">
        <p>
          Oops look's like there might be something wrong with your
          <code>.env</code> file. Check it out and then try again.
        </p>
        <h3>Common issues</h3>
        <ul>
          <li>Spaces between <code>=</code> and the token</li>
          <li>Spaces after the token</li>
          <li>
            Adding the text from the generator above to the file instead of
            replacing the old text
          </li>
        </ul>
      </div>

      <div id="apiErrorSection">
        <p>
          the good news is you have a good .env file the bad news is it doesn't
          recognize ur token
        </p>
      </div>
    </main>

    <footer>Made with <a href="https://glitch.com">Glitch</a>!</footer>

    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js"></script>
  </body>
</html>
